<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_30) on Thu Apr 10 13:57:31 EDT 2014 -->
<title>Tree</title>
<meta name="date" content="2014-04-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Tree";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/tree/Leaf.html" title="class in net.opentsdb.tree"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../net/opentsdb/tree/TreeBuilder.html" title="class in net.opentsdb.tree"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/tree/Tree.html" target="_top">FRAMES</a></li>
<li><a href="Tree.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">net.opentsdb.tree</p>
<h2 title="Class Tree" class="title">Class Tree</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.opentsdb.tree.Tree</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <strong>Tree</strong>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Represents a meta data tree in OpenTSDB that organizes timeseries into a
 hierarchical structure for navigation similar to a file system directory.
 Actual results are stored in <a href="../../../net/opentsdb/tree/Branch.html" title="class in net.opentsdb.tree"><code>Branch</code></a> and <a href="../../../net/opentsdb/tree/Leaf.html" title="class in net.opentsdb.tree"><code>Leaf</code></a> objects while 
 meta data about the tree is contained in this object.
 <p>
 A tree is built from a set of <a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree"><code>TreeRule</code></a>s. The rules are stored 
 separately in the same row as the tree definition object, but can be loaded
 into the tree for processing and return from an RPC request. Building a tree
 consists of defining a tree, assigning one or more rules, and passing 
 <a href="../../../net/opentsdb/meta/TSMeta.html" title="class in net.opentsdb.meta"><code>TSMeta</code></a> objects through the rule set using a 
 <a href="../../../net/opentsdb/tree/TreeBuilder.html" title="class in net.opentsdb.tree"><code>TreeBuilder</code></a>. Results are then stored in separate rows as branch 
 and leaf objects.
 <p>
 If TSMeta collides with something that has already been processed by a
 rule set, a collision will be recorded, via this object, in a separate column
 in a separate row for collisions. Likewise, if a tree is set to 
 <code>strict_match</code>, TSMetas that fail to match the rule set will be 
 recorded to a separate row. This class provides helper methods for fetching
 and storing these collisions and non-matched items.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#Tree()">Tree</a></strong>()</code>
<div class="block">Default constructor necessary for de/serialization</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#Tree(int)">Tree</a></strong>(int&nbsp;tree_id)</code>
<div class="block">Constructor that sets the tree ID and the created timestamp to the current
 time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#Tree(net.opentsdb.tree.Tree)">Tree</a></strong>(<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&nbsp;original)</code>
<div class="block">Copy constructor that creates a completely independent copy of the original
 object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#addCollision(java.lang.String, java.lang.String)">addCollision</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;existing_tsuid)</code>
<div class="block">Adds a TSUID to the collision local list, must then be synced with storage</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#addNotMatched(java.lang.String, java.lang.String)">addNotMatched</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
             <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</code>
<div class="block">Adds a TSUID to the not-matched local list when strict_matching is enabled.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#addRule(net.opentsdb.tree.TreeRule)">addRule</a></strong>(<a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a>&nbsp;rule)</code>
<div class="block">Adds the given rule to the tree, replacing anything in the designated spot</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#bytesToId(byte[])">bytesToId</a></strong>(byte[]&nbsp;row_key)</code>
<div class="block">Attempts to convert the given byte array into an integer tree ID
 <b>Note:</b> You can give this method a full branch row key and it will
 only parse out the first <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a> bytes.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#COLLISION_PREFIX()">COLLISION_PREFIX</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#copyChanges(net.opentsdb.tree.Tree, boolean)">copyChanges</a></strong>(<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&nbsp;tree,
           boolean&nbsp;overwrite)</code>
<div class="block">Copies changes from the incoming tree into the local tree, overriding if
 called to.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#createNewTree(net.opentsdb.core.TSDB)">createNewTree</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</code>
<div class="block">Attempts to store the local tree in a new row, automatically assigning a
 new tree ID and returning the value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#deleteTree(net.opentsdb.core.TSDB, int, boolean)">deleteTree</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
          int&nbsp;tree_id,
          boolean&nbsp;delete_definition)</code>
<div class="block">Attempts to delete all branches, leaves, collisions and not-matched entries
 for the given tree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#fetchAllTrees(net.opentsdb.core.TSDB)">fetchAllTrees</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</code>
<div class="block">Attempts to retrieve all trees from the UID table, including their rules.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#fetchCollisions(net.opentsdb.core.TSDB, int, java.util.List)">fetchCollisions</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
               int&nbsp;tree_id,
               <a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids)</code>
<div class="block">Returns the collision set from storage for the given tree, optionally for
 only the list of TSUIDs provided.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#fetchNotMatched(net.opentsdb.core.TSDB, int, java.util.List)">fetchNotMatched</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
               int&nbsp;tree_id,
               <a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids)</code>
<div class="block">Returns the not-matched set from storage for the given tree, optionally for
 only the list of TSUIDs provided.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#fetchTree(net.opentsdb.core.TSDB, int)">fetchTree</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
         int&nbsp;tree_id)</code>
<div class="block">Attempts to fetch the given tree from storage, loading the rule set at
 the same time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#flushCollisions(net.opentsdb.core.TSDB)">flushCollisions</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</code>
<div class="block">Attempts to flush the collisions to storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#flushNotMatched(net.opentsdb.core.TSDB)">flushNotMatched</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</code>
<div class="block">Attempts to flush the non-matches to storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getCollisions()">getCollisions</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getCreated()">getCreated</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getDescription()">getDescription</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getEnabled()">getEnabled</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getName()">getName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getNotes()">getNotes</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getNotMatched()">getNotMatched</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getRule(int, int)">getRule</a></strong>(int&nbsp;level,
       int&nbsp;order)</code>
<div class="block">Retrieves a single rule from the rule set given a level and order</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html?is-external=true" title="class or interface in java.util">TreeMap</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getRules()">getRules</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getStoreFailures()">getStoreFailures</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getStrictMatch()">getStrictMatch</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#getTreeId()">getTreeId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#idToBytes(int)">idToBytes</a></strong>(int&nbsp;tree_id)</code>
<div class="block">Converts the tree ID into a byte array <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a> in size</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#NOT_MATCHED_PREFIX()">NOT_MATCHED_PREFIX</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setCreated(long)">setCreated</a></strong>(long&nbsp;created)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setDescription(java.lang.String)">setDescription</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setEnabled(boolean)">setEnabled</a></strong>(boolean&nbsp;enabled)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setName(java.lang.String)">setName</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setNotes(java.lang.String)">setNotes</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;notes)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setStoreFailures(boolean)">setStoreFailures</a></strong>(boolean&nbsp;store_failures)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setStrictMatch(boolean)">setStrictMatch</a></strong>(boolean&nbsp;strict_match)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#setTreeId(int)">setTreeId</a></strong>(int&nbsp;treeId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#storeTree(net.opentsdb.core.TSDB, boolean)">storeTree</a></strong>(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
         boolean&nbsp;overwrite)</code>
<div class="block">Attempts to store the tree definition via a CompareAndSet call.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#TREE_FAMILY()">TREE_FAMILY</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH()">TREE_ID_WIDTH</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Tree()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Tree</h4>
<pre>public&nbsp;Tree()</pre>
<div class="block">Default constructor necessary for de/serialization</div>
</li>
</ul>
<a name="Tree(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Tree</h4>
<pre>public&nbsp;Tree(int&nbsp;tree_id)</pre>
<div class="block">Constructor that sets the tree ID and the created timestamp to the current
 time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tree_id</code> - ID of this tree</dd></dl>
</li>
</ul>
<a name="Tree(net.opentsdb.tree.Tree)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Tree</h4>
<pre>public&nbsp;Tree(<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&nbsp;original)</pre>
<div class="block">Copy constructor that creates a completely independent copy of the original
 object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>original</code> - The original object to copy from</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>PatternSyntaxException</code> - if one of the rule's regex is invalid</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Information about the tree</dd></dl>
</li>
</ul>
<a name="copyChanges(net.opentsdb.tree.Tree, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyChanges</h4>
<pre>public&nbsp;boolean&nbsp;copyChanges(<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&nbsp;tree,
                  boolean&nbsp;overwrite)</pre>
<div class="block">Copies changes from the incoming tree into the local tree, overriding if
 called to. Only parses user mutable fields, excluding rules.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tree</code> - The tree to copy from</dd><dd><code>overwrite</code> - Whether or not to copy all values from the incoming tree</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if there were changes, false if not</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the incoming tree was invalid</dd></dl>
</li>
</ul>
<a name="addRule(net.opentsdb.tree.TreeRule)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRule</h4>
<pre>public&nbsp;void&nbsp;addRule(<a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a>&nbsp;rule)</pre>
<div class="block">Adds the given rule to the tree, replacing anything in the designated spot</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rule</code> - The rule to add</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the incoming rule was invalid</dd></dl>
</li>
</ul>
<a name="addCollision(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCollision</h4>
<pre>public&nbsp;void&nbsp;addCollision(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
                <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;existing_tsuid)</pre>
<div class="block">Adds a TSUID to the collision local list, must then be synced with storage</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsuid</code> - TSUID to add to the set</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tsuid was invalid</dd></dl>
</li>
</ul>
<a name="addNotMatched(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addNotMatched</h4>
<pre>public&nbsp;void&nbsp;addNotMatched(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tsuid,
                 <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;message)</pre>
<div class="block">Adds a TSUID to the not-matched local list when strict_matching is enabled.
 Must be synced with storage.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsuid</code> - TSUID to add to the set</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tsuid was invalid</dd></dl>
</li>
</ul>
<a name="storeTree(net.opentsdb.core.TSDB, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeTree</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;storeTree(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                boolean&nbsp;overwrite)</pre>
<div class="block">Attempts to store the tree definition via a CompareAndSet call.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for access</dd><dd><code>overwrite</code> - Whether or not tree data should be overwritten</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the write was successful, false if an error occurred</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tree ID is missing or invalid</dd>
<dd><code>org.hbase.async.HBaseException</code> - if a storage exception occurred</dd></dl>
</li>
</ul>
<a name="getRule(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRule</h4>
<pre>public&nbsp;<a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a>&nbsp;getRule(int&nbsp;level,
               int&nbsp;order)</pre>
<div class="block">Retrieves a single rule from the rule set given a level and order</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>level</code> - The level where the rule resides</dd><dd><code>order</code> - The order in the level where the rule resides</dd>
<dt><span class="strong">Returns:</span></dt><dd>The rule if found, null if not found</dd></dl>
</li>
</ul>
<a name="createNewTree(net.opentsdb.core.TSDB)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNewTree</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&gt;&nbsp;createNewTree(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</pre>
<div class="block">Attempts to store the local tree in a new row, automatically assigning a
 new tree ID and returning the value.
 This method will scan the UID table for the maximum tree ID, increment it,
 store the new tree, and return the new ID. If no trees have been created,
 the returned ID will be "1". If we have reached the limit of trees for the
 system, as determined by <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a>, we will throw an exception.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd>
<dt><span class="strong">Returns:</span></dt><dd>A positive ID, greater than 0 if successful, 0 if there was
 an error</dd></dl>
</li>
</ul>
<a name="fetchTree(net.opentsdb.core.TSDB, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchTree</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&gt;&nbsp;fetchTree(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                             int&nbsp;tree_id)</pre>
<div class="block">Attempts to fetch the given tree from storage, loading the rule set at
 the same time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for access</dd><dd><code>tree_id</code> - The Tree to fetch</dd>
<dt><span class="strong">Returns:</span></dt><dd>A tree object if found, null if the tree did not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tree ID was invalid</dd>
<dd><code>org.hbase.async.HBaseException</code> - if a storage exception occurred</dd>
<dd><code><a href="../../../net/opentsdb/utils/JSONException.html" title="class in net.opentsdb.utils">JSONException</a></code> - if the object could not be deserialized</dd></dl>
</li>
</ul>
<a name="fetchAllTrees(net.opentsdb.core.TSDB)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchAllTrees</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/opentsdb/tree/Tree.html" title="class in net.opentsdb.tree">Tree</a>&gt;&gt;&nbsp;fetchAllTrees(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</pre>
<div class="block">Attempts to retrieve all trees from the UID table, including their rules.
 If no trees were found, the result will be an empty list</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of tree objects. May be empty if none were found</dd></dl>
</li>
</ul>
<a name="fetchCollisions(net.opentsdb.core.TSDB, int, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchCollisions</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;fetchCollisions(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                                 int&nbsp;tree_id,
                                                                 <a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids)</pre>
<div class="block">Returns the collision set from storage for the given tree, optionally for
 only the list of TSUIDs provided.
 <b>Note:</b> This can potentially be a large list if the rule set was
 written poorly and there were many timeseries so only call this
 without a list of TSUIDs if you feel confident the number is small.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - TSDB to use for storage access</dd><dd><code>tree_id</code> - ID of the tree to fetch collisions for</dd><dd><code>tsuids</code> - An optional list of TSUIDs to fetch collisions for. This may
 be empty or null, in which case all collisions for the tree will be 
 returned.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of collisions or null if nothing was found</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tree ID was invalid</dd></dl>
</li>
</ul>
<a name="fetchNotMatched(net.opentsdb.core.TSDB, int, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchNotMatched</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;fetchNotMatched(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                                 int&nbsp;tree_id,
                                                                 <a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids)</pre>
<div class="block">Returns the not-matched set from storage for the given tree, optionally for
 only the list of TSUIDs provided.
 <b>Note:</b> This can potentially be a large list if the rule set was
 written poorly and there were many timeseries so only call this
 without a list of TSUIDs if you feel confident the number is small.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - TSDB to use for storage access</dd><dd><code>tree_id</code> - ID of the tree to fetch non matches for</dd><dd><code>tsuids</code> - An optional list of TSUIDs to fetch non-matches for. This may
 be empty or null, in which case all non-matches for the tree will be 
 returned.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of not-matched mappings or null if nothing was found</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tree ID was invalid</dd></dl>
</li>
</ul>
<a name="deleteTree(net.opentsdb.core.TSDB, int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteTree</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;deleteTree(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb,
                                                 int&nbsp;tree_id,
                                                 boolean&nbsp;delete_definition)</pre>
<div class="block">Attempts to delete all branches, leaves, collisions and not-matched entries
 for the given tree. Optionally can delete the tree definition and rules as
 well.
 <b>Warning:</b> This call can take a long time to complete so it should
 only be done from a command line or issues once via RPC and allowed to
 process. Multiple deletes running at the same time on the same tree
 shouldn't be an issue but it's a waste of resources.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd><dd><code>tree_id</code> - ID of the tree to delete</dd><dd><code>delete_definition</code> - Whether or not the tree definition and rule set
 should be deleted as well</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the deletion completed successfully, false if there was an
 issue.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tree ID was invalid</dd></dl>
</li>
</ul>
<a name="idToBytes(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idToBytes</h4>
<pre>public static&nbsp;byte[]&nbsp;idToBytes(int&nbsp;tree_id)</pre>
<div class="block">Converts the tree ID into a byte array <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a> in size</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tree_id</code> - The tree ID to convert</dd>
<dt><span class="strong">Returns:</span></dt><dd>The tree ID as a byte array</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the Tree ID is invalid</dd></dl>
</li>
</ul>
<a name="bytesToId(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bytesToId</h4>
<pre>public static&nbsp;int&nbsp;bytesToId(byte[]&nbsp;row_key)</pre>
<div class="block">Attempts to convert the given byte array into an integer tree ID
 <b>Note:</b> You can give this method a full branch row key and it will
 only parse out the first <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a> bytes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>row_key</code> - The row key or tree ID as a byte array</dd>
<dt><span class="strong">Returns:</span></dt><dd>The tree ID as an integer value</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the byte array is less than 
 <a href="../../../net/opentsdb/tree/Tree.html#TREE_ID_WIDTH"><code>TREE_ID_WIDTH</code></a> long</dd></dl>
</li>
</ul>
<a name="COLLISION_PREFIX()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COLLISION_PREFIX</h4>
<pre>public static&nbsp;byte[]&nbsp;COLLISION_PREFIX()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The configured collision column qualifier prefix</dd></dl>
</li>
</ul>
<a name="NOT_MATCHED_PREFIX()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NOT_MATCHED_PREFIX</h4>
<pre>public static&nbsp;byte[]&nbsp;NOT_MATCHED_PREFIX()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The configured not-matched column qualifier prefix</dd></dl>
</li>
</ul>
<a name="TREE_FAMILY()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TREE_FAMILY</h4>
<pre>public static&nbsp;byte[]&nbsp;TREE_FAMILY()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The family to use when storing tree data</dd></dl>
</li>
</ul>
<a name="flushCollisions(net.opentsdb.core.TSDB)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushCollisions</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;flushCollisions(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</pre>
<div class="block">Attempts to flush the collisions to storage. The storage call is a PUT so
 it will overwrite any existing columns, but since each column is the TSUID
 it should only exist once and the data shouldn't change.
 <b>Note:</b> This will also clear the local <a href="../../../net/opentsdb/tree/Tree.html#collisions"><code>collisions</code></a> map</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd>
<dt><span class="strong">Returns:</span></dt><dd>A meaningless deferred (will always be true since we need to group
 it with tree store calls) for the caller to wait on</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd></dl>
</li>
</ul>
<a name="flushNotMatched(net.opentsdb.core.TSDB)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushNotMatched</h4>
<pre>public&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&gt;&nbsp;flushNotMatched(<a href="../../../net/opentsdb/core/TSDB.html" title="class in net.opentsdb.core">TSDB</a>&nbsp;tsdb)</pre>
<div class="block">Attempts to flush the non-matches to storage. The storage call is a PUT so
 it will overwrite any existing columns, but since each column is the TSUID
 it should only exist once and the data shouldn't change.
 <b>Note:</b> This will also clear the local <a href="../../../net/opentsdb/tree/Tree.html#not_matched"><code>not_matched</code></a> map</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tsdb</code> - The TSDB to use for storage access</dd>
<dt><span class="strong">Returns:</span></dt><dd>A meaningless deferred (will always be true since we need to group
 it with tree store calls) for the caller to wait on</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was an issue</dd></dl>
</li>
</ul>
<a name="TREE_ID_WIDTH()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TREE_ID_WIDTH</h4>
<pre>public static&nbsp;int&nbsp;TREE_ID_WIDTH()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The width of the tree ID in bytes</dd></dl>
</li>
</ul>
<a name="getTreeId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTreeId</h4>
<pre>public&nbsp;int&nbsp;getTreeId()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The treeId</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The name of the tree</dd></dl>
</li>
</ul>
<a name="getDescription()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescription</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getDescription()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>An optional description of the tree</dd></dl>
</li>
</ul>
<a name="getNotes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotes</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getNotes()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Optional notes about the tree</dd></dl>
</li>
</ul>
<a name="getStrictMatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStrictMatch</h4>
<pre>public&nbsp;boolean&nbsp;getStrictMatch()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether or not strict matching is enabled</dd></dl>
</li>
</ul>
<a name="getEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnabled</h4>
<pre>public&nbsp;boolean&nbsp;getEnabled()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether or not the tree should process TSMeta objects</dd></dl>
</li>
</ul>
<a name="getStoreFailures()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreFailures</h4>
<pre>public&nbsp;boolean&nbsp;getStoreFailures()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether or not to store not matched and collisions</dd></dl>
</li>
</ul>
<a name="getRules()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRules</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html?is-external=true" title="class or interface in java.util">TreeMap</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>,<a href="../../../net/opentsdb/tree/TreeRule.html" title="class in net.opentsdb.tree">TreeRule</a>&gt;&gt;&nbsp;getRules()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The tree's rule set</dd></dl>
</li>
</ul>
<a name="getNotMatched()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNotMatched</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getNotMatched()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>List of TSUIDs that did not match any rules</dd></dl>
</li>
</ul>
<a name="getCollisions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCollisions</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getCollisions()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>List of TSUIDs that were not stored due to collisions</dd></dl>
</li>
</ul>
<a name="getCreated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCreated</h4>
<pre>public&nbsp;long&nbsp;getCreated()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>When the tree was created, Unix epoch in seconds</dd></dl>
</li>
</ul>
<a name="setName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;void&nbsp;setName(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - A descriptive name for the tree</dd></dl>
</li>
</ul>
<a name="setDescription(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDescription</h4>
<pre>public&nbsp;void&nbsp;setDescription(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;description)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>description</code> - A brief description of the tree</dd></dl>
</li>
</ul>
<a name="setNotes(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotes</h4>
<pre>public&nbsp;void&nbsp;setNotes(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;notes)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>notes</code> - Optional notes about the tree</dd></dl>
</li>
</ul>
<a name="setStrictMatch(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStrictMatch</h4>
<pre>public&nbsp;void&nbsp;setStrictMatch(boolean&nbsp;strict_match)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>strict_match</code> - Whether or not a TSUID must match all rules in the
 tree to be included</dd></dl>
</li>
</ul>
<a name="setEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnabled</h4>
<pre>public&nbsp;void&nbsp;setEnabled(boolean&nbsp;enabled)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>enabled</code> - Whether or not this tree should process TSMeta objects</dd></dl>
</li>
</ul>
<a name="setStoreFailures(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStoreFailures</h4>
<pre>public&nbsp;void&nbsp;setStoreFailures(boolean&nbsp;store_failures)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>store_failures</code> - Whether or not to store not matched or collisions</dd></dl>
</li>
</ul>
<a name="setTreeId(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTreeId</h4>
<pre>public&nbsp;void&nbsp;setTreeId(int&nbsp;treeId)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>treeId</code> - ID of the tree, users cannot modify this</dd></dl>
</li>
</ul>
<a name="setCreated(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setCreated</h4>
<pre>public&nbsp;void&nbsp;setCreated(long&nbsp;created)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>created</code> - The time when this tree was created, 
 Unix epoch in seconds</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/tree/Leaf.html" title="class in net.opentsdb.tree"><span class="strong">PREV CLASS</span></a></li>
<li><a href="../../../net/opentsdb/tree/TreeBuilder.html" title="class in net.opentsdb.tree"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/tree/Tree.html" target="_top">FRAMES</a></li>
<li><a href="Tree.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">CONSTR</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
