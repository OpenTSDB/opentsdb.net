<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stats &mdash; OpenTDSB 2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/solar.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenTDSB 2.0 documentation" href="../index.html" />
    <link rel="up" title="User Guide" href="index.html" />
    <link rel="next" title="Definitions" href="definitions.html" />
    <link rel="prev" title="Plugins" href="plugins.html" /><link href='http://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans:300italic,400italic,700italic,400,300,700' rel='stylesheet' type='text/css'>
<link href="../_static/solarized-dark.css" rel="stylesheet">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18339382-1']);
  _gaq.push(['_setDomainName', 'none']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="definitions.html" title="Definitions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plugins.html" title="Plugins"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenTDSB 2.0 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">User Guide</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="plugins.html"
                        title="previous chapter">Plugins</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="definitions.html"
                        title="next chapter">Definitions</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stats">
<h1>Stats</h1>
<p>OpenTSDB offers a number of metrics about it&#8217;s performance. These can easily be published right back into OpenTSDB at any interval you like. Stats are accesible from the GUI via the &#8220;Stats&#8221; tab, from the Http API at <tt class="docutils literal"><span class="pre">/api/stats</span></tt> or the legacy API at <tt class="docutils literal"><span class="pre">/stats</span></tt>.</p>
<p>All stats include a <tt class="docutils literal"><span class="pre">host</span></tt> tag that includes the name of the host where the TSD is running. If the __ configuration is set, this will change to <tt class="docutils literal"><span class="pre">fqdn</span></tt> and the TSD will try to resolve it&#8217;s host name to return the fully qualified domain name. Currently all stats are integer values. Each request for stats will fetch statistics in real time so the timestamp will reflect the current time on the TSD host.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="10%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Metric</th>
<th class="head">Tags</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>tsd.connectionmgr.connections</td>
<td>type=open</td>
<td>Guage</td>
<td>The number of currently open Telnet and HTTP connections.</td>
</tr>
<tr class="row-odd"><td>tsd.connectionmgr.connections</td>
<td>type=total</td>
<td>Counter</td>
<td>The total number of connections made to OpenTSDB. This includes all Telnet and HTTP connections.</td>
</tr>
<tr class="row-even"><td>tsd.connectionmgr.exceptions</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number exceptions thrown by connections. Only network level exceptions are tracked by this metric, such as abrupt disconnects or invalid packets. This includes all Telnet and HTTP connections.</td>
</tr>
<tr class="row-odd"><td>tsd.rpc.received</td>
<td>type=telnet</td>
<td>Counter</td>
<td>The total number of telnet RPC requests received</td>
</tr>
<tr class="row-even"><td>tsd.rpc.received</td>
<td>type=http</td>
<td>Counter</td>
<td>The total number of Http RPC requests received</td>
</tr>
<tr class="row-odd"><td>tsd.rpc.exceptions</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number exceptions caught during RPC calls. These may be user error or bugs.</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_50pct</td>
<td>type=all</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer HTTP requests for the 50th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_75pct</td>
<td>type=all</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer HTTP requests for the 75th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_90pct</td>
<td>type=all</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer HTTP requests for the 90th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_95pct</td>
<td>type=all</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer HTTP requests for the 95th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_50pct</td>
<td>type=graph</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer graphing requests for the 50th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_75pct</td>
<td>type=graph</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer graphing requests for the 75th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_90pct</td>
<td>type=graph</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer graphing requests for the 90th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_95pct</td>
<td>type=graph</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to answer graphing requests for the 95th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_50pct</td>
<td>type=gnuplot</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to generate the GnuPlot graphs for the 50th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_75pct</td>
<td>type=gnuplot</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to generate the GnuPlot graphs for the 75th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.latency_90pct</td>
<td>type=gnuplot</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to generate the GnuPlot graphs for the 90th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.http.latency_95pct</td>
<td>type=gnuplot</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to generate the GnuPlot graphs for the 95th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.http.graph.requests</td>
<td>cache=disk</td>
<td>Counter</td>
<td>The total number of graph requests satisfied from the disk cache</td>
</tr>
<tr class="row-odd"><td>tsd.http.graph.requests</td>
<td>cache=miss</td>
<td>Counter</td>
<td>The total number of graph requests that were not cached and required a fetch from storage</td>
</tr>
<tr class="row-even"><td>tsd.rpc.received</td>
<td>type=put</td>
<td>Counter</td>
<td>The total number of <tt class="docutils literal"><span class="pre">put</span></tt> requests for writing data points</td>
</tr>
<tr class="row-odd"><td>tsd.rpc.errors</td>
<td>type=hbase_errors</td>
<td>Counter</td>
<td>The total number of RPC errors caused by HBase exceptions</td>
</tr>
<tr class="row-even"><td>tsd.rpc.errors</td>
<td>type=invalid_values</td>
<td>Counter</td>
<td>The total number of RPC errors caused invalid <tt class="docutils literal"><span class="pre">put</span></tt> values from user requests, such as a string instead of a number</td>
</tr>
<tr class="row-odd"><td>tsd.rpc.errors</td>
<td>type=illegal_arguments</td>
<td>Counter</td>
<td>The total number of RPC errors caused by bad data from the user</td>
</tr>
<tr class="row-even"><td>tsd.rpc.errors</td>
<td>type=unknown_metrics</td>
<td>Counter</td>
<td>The total number of RPC errors caused by attempts to <tt class="docutils literal"><span class="pre">put</span></tt> a metric without an assigned UID. This only increments if <em>auto metrics</em> is disabled.</td>
</tr>
<tr class="row-odd"><td>tsd.uid.cache-hit</td>
<td>kind=metrics</td>
<td>Counter</td>
<td>The total number of successful cache lookups for metric UIDs</td>
</tr>
<tr class="row-even"><td>tsd.uid.cache-miss</td>
<td>kind=metrics</td>
<td>Counter</td>
<td>The total number of failed cache lookups for metric UIDs that required a call to storage</td>
</tr>
<tr class="row-odd"><td>tsd.uid.cache-size</td>
<td>kind=metrics</td>
<td>Gauge</td>
<td>The current number of cached metric UIDs</td>
</tr>
<tr class="row-even"><td>tsd.uid.ids-used</td>
<td>kind=metrics</td>
<td>Counter</td>
<td>The current number of assigned metric UIDs</td>
</tr>
<tr class="row-odd"><td>tsd.uid.ids-available</td>
<td>kind=metrics</td>
<td>Counter</td>
<td>The current number of available metric UIDs, decrements as UIDs are assigned.</td>
</tr>
<tr class="row-even"><td>tsd.uid.cache-hit</td>
<td>kind=tagk</td>
<td>Counter</td>
<td>The total number of successful cache lookups for tagk UIDs</td>
</tr>
<tr class="row-odd"><td>tsd.uid.cache-miss</td>
<td>kind=tagk</td>
<td>Counter</td>
<td>The total number of failed cache lookups for tagk UIDs that required a call to storage</td>
</tr>
<tr class="row-even"><td>tsd.uid.cache-size</td>
<td>kind=tagk</td>
<td>Gauge</td>
<td>The current number of cached tagk UIDs</td>
</tr>
<tr class="row-odd"><td>tsd.uid.ids-used</td>
<td>kind=tagk</td>
<td>Counter</td>
<td>The current number of assigned tagk UIDs</td>
</tr>
<tr class="row-even"><td>tsd.uid.ids-available</td>
<td>kind=tagk</td>
<td>Counter</td>
<td>The current number of available tagk UIDs, decrements as UIDs are assigned.</td>
</tr>
<tr class="row-odd"><td>tsd.uid.cache-hit</td>
<td>kind=tagv</td>
<td>Counter</td>
<td>The total number of successful cache lookups for tagv UIDs</td>
</tr>
<tr class="row-even"><td>tsd.uid.cache-miss</td>
<td>kind=tagv</td>
<td>Counter</td>
<td>The total number of failed cache lookups for tagv UIDs that required a call to storage</td>
</tr>
<tr class="row-odd"><td>tsd.uid.cache-size</td>
<td>kind=tagv</td>
<td>Gauge</td>
<td>The current number of cached tagv UIDs</td>
</tr>
<tr class="row-even"><td>tsd.uid.ids-used</td>
<td>kind=tagv</td>
<td>Counter</td>
<td>The current number of assigned tagv UIDs</td>
</tr>
<tr class="row-odd"><td>tsd.uid.ids-available</td>
<td>kind=tagv</td>
<td>Counter</td>
<td>The current number of available tagv UIDs, decrements as UIDs are assigned.</td>
</tr>
<tr class="row-even"><td>tsd.jvm.ramfree</td>
<td>&nbsp;</td>
<td>Gauge</td>
<td>The number of bytes reported as free by the JVM&#8217;s Runtime.freeMemory()</td>
</tr>
<tr class="row-odd"><td>tsd.jvm.ramused</td>
<td>&nbsp;</td>
<td>Gauge</td>
<td>The number of bytes reported as used by the JVM&#8217;s Runtime.totalMemory()</td>
</tr>
<tr class="row-even"><td>tsd.hbase.latency_50pct</td>
<td>method=put</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Put call for the 50th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.latency_75pct</td>
<td>method=put</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Put call for the 75th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.hbase.latency_90pct</td>
<td>method=put</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Put call for the 90th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.latency_95pct</td>
<td>method=put</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Put call for the 95th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.hbase.latency_50pct</td>
<td>method=scan</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Scan call for the 50th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.latency_75pct</td>
<td>method=scan</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Scan call for the 75th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.hbase.latency_90pct</td>
<td>method=scan</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Scan call for the 90th percentile cases</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.latency_95pct</td>
<td>method=scan</td>
<td>Guage</td>
<td>The time it took, in milliseconds, to execute a Scan call for the 95th percentile cases</td>
</tr>
<tr class="row-even"><td>tsd.hbase.root_lookups</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of root lookups performed by the client</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.meta_lookups</td>
<td>type=uncontended</td>
<td>Counter</td>
<td>The total number of uncontended meta table lookups performed by the client</td>
</tr>
<tr class="row-even"><td>tsd.hbase.meta_lookups</td>
<td>type=contended</td>
<td>Counter</td>
<td>The total number of contended meta table lookups performed by the client</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.rpcs</td>
<td>type=increment</td>
<td>Counter</td>
<td>The total number of Increment requests performed by the client</td>
</tr>
<tr class="row-even"><td>tsd.hbase.rpcs</td>
<td>type=delete</td>
<td>Counter</td>
<td>The total number of Delete requests performed by the client</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.rpcs</td>
<td>type=get</td>
<td>Counter</td>
<td>The total number of Get requests performed by the client</td>
</tr>
<tr class="row-even"><td>tsd.hbase.rpcs</td>
<td>type=put</td>
<td>Counter</td>
<td>The total number of Put requests performed by the client</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.rpcs</td>
<td>type=rowLock</td>
<td>Counter</td>
<td>The total number of Row Lock requests performed by the client</td>
</tr>
<tr class="row-even"><td>tsd.hbase.rpcs</td>
<td>type=openScanner</td>
<td>Counter</td>
<td><dl class="first last docutils">
<dt>The total number of Open Scanner requests performed by the</dt>
<dd>client</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.rpcs</td>
<td>type=scan</td>
<td>Counter</td>
<td>The total number of Scan requests performed by the client. These indicate a scan-&gt;next() call.</td>
</tr>
<tr class="row-even"><td>tsd.hbase.rpcs.batched</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of batched requests sent by the client</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.flushes</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of flushes performed by the client</td>
</tr>
<tr class="row-even"><td>tsd.hbase.connections.created</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of connections made by the client to region servers</td>
</tr>
<tr class="row-odd"><td>tsd.hbase.nsre</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of No Such Region Exceptions caught. These can happen when a region server crashes, is taken offline or when a region splits (?)</td>
</tr>
<tr class="row-even"><td>tsd.hbase.rpcs.rpcs_delayed</td>
<td>&nbsp;</td>
<td>Counter</td>
<td>The total number of calls delayed due to an NSRE that were later successfully executed</td>
</tr>
<tr class="row-odd"><td>tsd.compaction.count</td>
<td>type=trivial</td>
<td>Counter</td>
<td>The total number of trivial compactions performed by the TSD</td>
</tr>
<tr class="row-even"><td>tsd.compaction.count</td>
<td>type=complex</td>
<td>Counter</td>
<td>The total number of complex compactions performed by the TSD</td>
</tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="definitions.html" title="Definitions"
             >next</a> |</li>
        <li class="right" >
          <a href="plugins.html" title="Plugins"
             >previous</a> |</li>
        <li><a href="../index.html">OpenTDSB 2.0 documentation</a> &raquo;</li>
          <li><a href="index.html" >User Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, OpenTSDB.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.Theme by <a href="http://github.com/vkvn">vkvn</a>
    </div>
  </body>
</html>